### Дано:

$N = 3$ - дней
$\Delta = 100$ - кратность стоимости
$E = 3$ - емкость холодильника
$\alpha = 300$ - суточная потребность

$x$ - размер закупаемой партии
$P(x)$ - cтоимость закупаемой партии
$Q(x)$ - арендная плата за сутки хранения

Таблица значений стоимости закупаемых фруктов $P(x)$ и арендной платы $Q(x)$

| $x$ | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 |
| ----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: | :---- |
| $P(x)$ | 150 | 280 | 410 | 540 | 660 | 780 | 890 | 1000 | 1100 |
| $Q(x)$ | 10 | 20 | 30 | 50 | 70 | 100 | - | - | - |

Требуется определить количество сырья, которое следует закупать в каждый из дней, чтобы минимизировать суммарные затраты на покупку и хранение при условии, что суточная потребность составляет $\alpha$ условных единиц.

### Решение:

Для решения данной задачи представим ее в форме задачи динамического программирования. Введем обозначения:
$u_k$ - количество сырья, закупаемое в $k$-ый день
$x_k$ - количество сырья, оставшееся в $k$-ый день невостребованным

Тогда закон изменения состояния:
$x_{k+1} = x_k + u_{k+1} - \alpha$, где $k = 0,...,N - 1$

Начальные и конечные запасы сырья отсутствуют:
$x_0 = x_N = 0$

Функция затрат в $k$-ый день:
$d_{k+1}(x_k,u_{k+1}) = P(u_{k+1}) + Q(x_k)$

Состояния:

$x_0$ ->($u_1$) $x_1$ ->($u_2$) $x_2$ ->($u_3$) $x_3$

#### Шаг 1-ый

$S_1(x_2) = \min\{P(u_3) + Q(x_2): u_3 = \alpha - x_2 \geq 0\} = P(300 - x_2) + Q(x_2)$
$x_2 \in [0,\alpha]$, $\alpha = 300$

Таблица значений $S_1(x_2)$:

| $x_2$ | $S_1(x_2)$ | $u_3^*(x_2)$ |
| ---: | :---: | :---- |
| 0 | 410 + 0 = 410 | 300 |
| 100 | 280 + 10 = 290 | 200 |
| 200 | 150 + 20 = 170 | 100 |
| 300 | 0 + 30 = 30 | 0 |

#### Шаг 2-ой

$S_2(x_1) = \min\{P(u_2) + Q(x_1) + S_1(x_2): u_2 \in U_2(x_1) \}$
нужно оставить одну зависимую переменную, поэтому:
$x_2 = x_1 + u_2 - \alpha$ =>
$S_2(x_1) = \min\{P(u_2) + Q(x_1) + S_1(x_1 + u_2 - \alpha): u_2 \in U_2(x_1) \}$,
	где $U_2(x_1) = \{u_2: \max\{\alpha - x_1; 0\} \leq u_2 \leq 2 \alpha - x_1\}$

$0 \leq x_2 \leq \alpha$ и $x_2 = x_1 + u_2 - \alpha$ =>
$0 \leq x_1 + u_2 - \alpha \leq \alpha$ =>
$0 \leq u_2 \leq 2 \alpha - x_1$

Вычисление значений $S_2(x_1)$:

$${S_2(0) = \min\left\lbrace \begin{array}{rcl}
410 + 0 + S_1(0) = 820, u_2 = 300 \\
540 + 0 + S_1(100) = 830, u_2 = 400 \\
660 + 0 + S_1(200) = 830, u_2 = 500 \\
780 + 0 + S_1(300) = 810, u_2 = 600
\end{array}\right\rbrace = 810}$$
$${S_2(100) = \min\left\{ \begin{array}{rcl}
280 + 10 + S_1(0) = 700, u_2 = 200 \\
410 + 10 + S_1(100) = 710, u_2 = 300 \\
540 + 10 + S_1(200) = 720, u_2 = 400 \\
660 + 10 + S_1(300) = 700, u_2 = 500
\end{array}\right\} = 700}$$
$${S_2(200) = \min\left\{ \begin{array}{rcl}
150 + 20 + S_1(0) = 580, u_2 = 100 \\
280 + 20 + S_1(100) = 590, u_2 = 200 \\
410 + 20 + S_1(200) = 600, u_2 = 300 \\
540 + 20 + S_1(300) = 590, u_2 = 400
\end{array}\right\} = 700}$$
$${S_2(300) = \min\left\{ \begin{array}{rcl}
0 + 30 + S_1(0) = 440, u_2 = 0 \\
150 + 30 + S_1(100) = 470, u_2 = 100 \\
280 + 30 + S_1(200) = 480, u_2 = 200 \\
410 + 30 + S_1(300) = 470, u_2 = 300
\end{array}\right\} = 440}$$
$${S_2(400) = \min\left\{ \begin{array}{rcl}
0 + 50 + S_1(100) = 340, u_2 = 0 \\
150 + 50 + S_1(200) = 370, u_2 = 100 \\
280 + 50 + S_1(300) = 360, u_2 = 200
\end{array}\right\} = 340}$$
$${S_2(500) = \min\left\{ \begin{array}{rcl}
0 + 70 + S_1(200) = 240, u_2 = 0 \\
150 + 70 + S_1(300) = 250, u_2 = 100
\end{array}\right\} = 240}$$
$${S_2(600) = \min\left\{ \begin{array}{rcl}
0 + 100 + S_1(300) = 440, u_2 = 0
\end{array}\right\} = 440}$$

| $x_1$ | $S_2(x_1)$ | $u_2^*(x_1)$ |
| ---: | :---: | :---- |
| 0 | 810 | 600 |
| 100 | 700 | 200, 500 |
| 200 | 580 | 100 |
| 300 | 440 | 0 |
| 400 | 340 | 0 |
| 500 | 240 | 0 |
| 600 | 130 | 0 |

#### Шаг 3-ий

$S_3(x_0) = \min\{P(u_1) + Q(x_0) + S_2(x_0 + u_1 - \alpha): u_1 \in U_1(x_0) \}$

Поскольку $x_0 = 0$:

$S_3(0) = \min\{ P(u_1) + Q(0) + S_2(u_1 - \alpha): \alpha \leq u_1 \leq \min\{ 3\alpha; \alpha + E \} \} = 1220$

$${S_3(0) = \min\{ P(u_1) + Q(0) + S_2(u_1 - \alpha): \alpha \leq u_1 \leq \min\{ 3\alpha; \alpha + E \} \} =
\min\left\{ \begin{array}{rcl}
410 + 810 = 1220, u_1 = 300 \\
540 + 700 = 1240, u_1 = 400 \\
660 + 580 = 1240, u_1 = 500 \\
780 + 440 = 1220, u_1 = 600 \\
890 + 340 = 1230, u_1 = 700 \\
1000 + 240 = 1240, u_1 = 800 \\
1100 + 130 = 1240, u_1 = 900
\end{array}\right\} = 1220}$$

Оптимальное $u_1^* = \{300, 600\}$

### Ответ:

$(300, 600, 0)$, $(600, 0, 300)$